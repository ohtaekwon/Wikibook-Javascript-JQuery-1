# _CHAPTER 09 - 함수기능_

<br>

## :speaker: INTRO

<br>

## :information_source:INDEX

|     Lesson      |                     Content                     |
| :-------------: | :---------------------------------------------: |
| ***Lesson 01*** |               **함수 기능 소개**                |
| ***Lesson 02*** | **함수 기능 1: 중복코드 제거 및 코드 재사용성** |
| ***Lesson 03*** |          **함수 기능 2: 코드 그룹화**           |
| ***Lesson 04*** |                    **미 션**                    |

<br>

---

<br>

## :pencil:_Lesson 01. 함수 기능 소개_

### _01. 함수 대표 기능 두 가지_

- 함수는 다음과 같이 크게 두 가지 기능을 갖고 있다.

1. 중복코드 제거 및 코드 재사용성
2. 구조 나누기

<br>

### _02. 중복코드 제거 및 코드 재상용성_

- 함수를 사용하지 않을 때 중복코드가 발생하는 경우

*​**:white_check_mark: 2단 코드***

```javascript
var dan = 2;
for(var i=1; i<=9; i++){
    document.write(dan+" * " + i+ "=" +(dan*i),"<br>");
}
```

***:white_check_mark:  4단 코드***

```javascript
var dan = 4;
for(var i=1; i<=9; i++){
    document.write(dan+" * " + i+ "=" +(dan*i),"<br>");
}
```

*​**:white_check_mark: 7단 코드***

```javascript
var dan = 7;
for(var i=1; i<=9; i++){
    document.write(dan+" * " + i+ "=" +(dan*i),"<br>");
}
```

<br>

이때 **함수를 이용하면** ***중복코드를 없앨 뿐 아니라 코드를 재사용할 수 있어 유지보수하기 좋은 코드***를 만들 수 있다.

```javascript
function print99dan(dan){
    // 중복되는 코드를 여기에 포장시켜 준다.
    for(var i=1; i<=9; i++){
        document.write(dan+" * " + i+ "=" +(dan*i),"<br>");
    }
}
print99dan(2);
print99dan(4);
print99dan(7);
```

- 특정 구문을 함수 단위로 만들어 놓으면 중복

<br>

### _03. 코드 그룹화_

- 하나의 옷장에 양말, 수건, 옷까지 구분 업이 마구 섞여 있느면 찾기 어렵다.
- 이처럼 연관 없는 코드를 마구잡이로 포장하면 원하는 코드를 찾기 힘들게 된다.

- 즉, 함수의 용도로 설명하자면,
  1. 코드 재사용성
  2. 연관 있는 구문 특정 크기로 나누기

<br>

예를 들어 ***이미지 슬라이드***를 가지고 설명한다면,

<br>

### :page_facing_up: 일반적인 이미지 슬라이더

1. 기능1 - 오토플레이 시작
2. 기능2 - 오토플레이 멈춤
3. 기능3 - 이전 이미지 보이기
4. 기능4 - 다음 이미지 보이기
5. 기능5 - 번호 이미지 클릭 시 해당 이미지 보이기
6. ....

<br>

- 이때 모든 기능을 다음처럼 하나의 함수에 구현한다면 구현하는 것부터 시작해서 추후 문제점이 있는 코드를 찾아 수정하는 것까지 모두 힘들어진다.

![](https://github.com/ohtaekwon/Wikibook-Javascript-JQuery-1/blob/master/img/09.01_1.png?raw=true)

<br>

- 이럴 땐 기능들을 각각의 함수로 나눠 포장해 구현하는 것이다. 
  - 코드를 쉽게 찾을 수 있으며, 신규 기능 추가 및 기존 코드의 재사용성까지 높이다.

<br>



---

<br>

### :diamond_shape_with_a_dot_inside: _참고_ - 함수 vs. 반복문

- **함수는?**
  - 특정 기능을 하는 일종의 로직과 같은 구문을 재사용할 때 사용하는 기능이다.
  - 필요할 떄 언제든지 함수를 호출해서 기능을 재사용할 수 있다.
- **반복문은?**
  - 특정 구문을 반복해서 사용할 때 사용하는 기능이다.
  - 반복문은 한번 사용하면 재사용할 수 없다.
    - ***만약 다시 사용하고 싶다면, 똑같은 내용을 복사해서 사용한다.***

<br>

---

<br>

## :pencil:_Lesson 02. 함수 기능 1: 중복코드 제거 및 코드 재사용성_

- 중복코드가 있다고 해서 동작하지 않는 건 아니지만 **유지보수**하기 힘들어진다. 
- 중복된 코드 제거하는 방법, 코드 재사용하는 방법

<br>

### _01. 중복코드 제거 및 코드 재사용성 순서_

- 반드시 일정한 것은 아니지만 초보자를 위한 함수 만드는 방법은 몇 가지 있다.

<br>

#### :one: 단계 ​1​. _중복코드 또는 재사용 코드 찾아 함수로 포장하기_

- 먼저 코드에서 중복코드 또는 재사용할 만한 코드가 있는지 찾아 함수로 무작정 포장한다.

<br>

#### :two: 단계 2. 중복코드에서 변경되지 않는 부분과 변경되는 부분 파악하기

- 다음으로, 중복코드에서 변경되는 부분과 변경되지 않는 부분을 나눈다.

<br>

#### :three: 단계 3. 변경되는 부분을 매개변수로 만들기

- 변경되지 않는 부분은 함수의 몸통이 되며 변경되는 부분은 **지역변수**와 **매개변수**로 만든다.
  -  이 중 ***함수 실행 시에 외부에서 값을 변경해야 하는 경우는 매개변수로 만든다.***

<br>

### _02. 예제_

#### :memo:_예제 01)_ 다음 내용은 10, 15, 19가 홀수 인지 짝수인지 출력하는 예제이다. 함수를 이용하여 깔끔하게 만들어라

```javascript
var n1 = 10;
document.write(n1+"은 ");
if(n1%2)
    document.wrtie("홀수입니다. <br>");
else
    document.write("짝수입니다. <br>");

var n2 = 15;
document.write(n2+"은 ");
if(n2%2)
    document.write("홀수입니다. <br>");
else
    document.write("짝수입니다. <br>")

var n3 = 19;
document.write(n3+"은 ");
if(n3%2)
    document.write("홀수입니다. <br>");
else
    document.write("짝수입니다. <br>")
```

<br>

##### 💻 구현하기

- 진행 수서는 다음과 같다.
  - 단계 01 : 중복코드 또는 재사용 코드 찾아 함수로 포장하기
  - 단계 02 : 중복코드에서 변경되지 않는 부분과 변경되는 부분 파악하기
  - 단계 03 : 변경되는 부분을 매개변수로 만들기

<br>

#### :one: 단계 ​01: _중복코드 또는 재사용 코드 찾아 함수로 포장하기_

- 첫 번째 단계에서 가장 먼저 할 일은 기존 코드에서 중복되는 코드가 있는지 찾는 것.
- 기존 코드를 보며 변수 이름만 다른 뿐 짝수 홀수를 알아내는 로직을 중복해서 사용하는 것을 알 수있다.

:ballot_box_with_check: **풀이 : 소스**

```javascript
function checkEvenOdd(){	//--------------(※1)
    var n1=10;
    document.write(n1+"은 ");
    if(n1%2)
        document.write("홀수입니다. <br>");
    else
        document.write("짝수입니다. <br>");
}
checkEvenOdd();	//--------------(※2)
```

##### :pencil: 설명

- `※1` 먼저, **checkEvenOdd()** 함수를 신규로 만든 후 중복코드를 함수 내부에 복사해 준다. 그림으로 표현하면 다음과 같다.

![](https://github.com/ohtaekwon/Wikibook-Javascript-JQuery-1/blob/master/img/09.02_1.png?raw=true)

- `※2` 작업한 내용이 정상적으로 동작하는지 확인하기 위해 기존 코드는 일단 주석 처리를 한 후 그 자리에 checkEvenOdd() 함수를 호출해 준다. 코드를 모두 입력하면 정상적으로 동작하는지 실행한다.
- 문제가 없다면 "10은 짝수 입니다."라는 메시지가 화면에 출력된다.

<br>

#### :two: 단계 ​02: _중복코드에서 변경되지 않는 부분과 변경되는 부분 파악하기_

- 중복코드에서 변경되는 부분은 거의 전역변수 또는 지역변수 그리고 매개변수가 될 것이다.

| 변경되지 않는 부분                                           | 변경되는 부분                                                |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| function checkEvenOdd(){<br />     var n1 = 10; <br />     document.write(n1 + " 은 ");<br />     if(n1%2)<br />         document.write("홀수입니다. ");<br />     else<br />         document.write("짝수입니다.");<br />    }<br />}<br />checkEvenOdd(); | function checkEvenOdd(){<br />     var n1 = 10; <br />     document.write(n1 + " 은 ");<br />     if(n1%2)<br />         document.write("홀수입니다. ");<br />     else<br />         document.write("짝수입니다.");<br />    }<br />}<br />checkEvenOdd(); |

<br>

#### :three: 단계 ​03: _변경되는 부분을 매개변수로 만들기_

- 변경되지 않는 부분은 그대로 놔두고 변경되는 부분을 매개변수로 만들어 준다.

:ballot_box_with_check: **풀이 : 소스**

```javascript
function checkEvenOdd(value){	//--------------(※1)
//  var n1=10;	//--------------(※2) : value를 사용할 것이므로 지운다.
    document.write(value+"은 ");	//--------------(※3)
    if(value%2)	//--------------(※4)
        document.write("홀수입니다. <br>");
    else
        document.write("짝수입니다. <br>");
}
checkEvenOdd(10);	//--------------(※5)
checkEvenOdd(15);
checkEvenOdd(19);
```

##### :pencil: 설명

- `※1` 먼저 짝수/홀수를 판단할 숫자 값을 외부에서 받기 위해서 value라는 이름으로 매개변수를 추가해 준다.
- `※2` n1은 매개변수인 value를 사용할 것이므로 지워준다.
- `※3` , `※4` n1 변수가 있던 곳에 value 매개변수로 변경해 준다.
- `※5` 10, 15, 19를 가각 넣어 checkEvenOdd() 함수를 호출한다.

<br>

---

<br>

## :pencil:_Lesson 03. 함수 기능 2: 코드 그룹화_

### _01. 코드 그룹화하는 순서_

- 함수는 중복코드를 없애는 기능 이외에도, 여러 가지 기능이 뒤엉켜 뭉쳐 있는 커다란 코드 엉어리에서 연관있는 코드를 따로 떼어내 그룹화 하는 기능도 있다.

***EX) 이미지슬라이드 구현 코드 - 그룹화***

![](https://github.com/ohtaekwon/Wikibook-Javascript-JQuery-1/blob/master/img/09.03_1.png?raw=true)

- 함수는 **오직!** 한 가지 일만 해야 한다는 원칙만 따른다면 그룹화는 간단하다.
  - 포장하고 있는 것.
  - 하나의 함수가 여러 가지 기능을 포장하고 있는 것은 잘못되었다고 판단하면 된다.
- 코드 그룹화하는 순서
  - **단계 1 : 여러가지 기능을 하는 함수 찾기**
    - 가장 먼저 함수 중에서 여러 가지 기능을 포장하고 있는 함수를 찾는다.
    - 만약 발견했다면 함수가 몇 가지 기능을 하고 있는지 파악
  - **단계 2 : 함수 나누기**
    - 기능 개수만큼 함수를 신규로 만든 후 각각의 기능을 함수에 담아 포장한다.

<br>

### _02. 예제_

#### :memo:_예제 01)_ 함수 나누기 연습

- 함수를 이용해 코드를 그룹화하여라.

:ballot_box_with_check: **풀이 전 코드 : 소스**

```javascript
&(document).ready(function(){
    // 물고기 노드 구하기.
    var $fish = $("#fish");
    
    // 버튼에 이벤트 걸기.
    $("#btnStar").click(function(){
        // 물고기 움직이기.
        // 물고기 위치 값 구하기
        var x = parseInt($("#txtX").val());
        var y = parseInt($("#txtY").val());
        
        if((x>=0 && x<=500)&& y>=0 && y<=300){
            $fish.css({
                left:x,
                top:y
            });
        } else {
            alert("입력된 값이 너무 큽니다. 다시 입력해주세요.");
        }
    });
})
```

##### :pencil: 구현하기

- 진행순서는 
